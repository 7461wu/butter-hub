
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/thombomb2009/butter-hub/main/lib.txt"))()
dontTp = true
dontTp2 = true
player = game.Players.LocalPlayer
humanoid = player.Character.Humanoid
local Players = game:GetService("Players");
local GUI = Library:Create{
    Name = "cart ride",
    Size = UDim2.fromOffset(600, 400),
    Theme = Library.Themes.a,
    Link = "cartride.com/script"
}


local Tab = GUI:tab{
    Icon = "rbxassetid://11145825488",
    Name = "main"
}

local function tp(PART)
    game.Players.LocalPlayer.Character:SetPrimaryPartCFrame(PART.CFrame)
end

local function CFnewtp(PLACE)
    game.Players.LocalPlayer.Character:SetPrimaryPartCFrame(PLACE)
end

local function getCart()
    if humanoid.Seated then
        local CurrentSeat = player.Character.Humanoid.SeatPart
        if CurrentSeat then
    for i,v in pairs(workspace.Carts:GetDescendants()) do
        if v.Name == "Cart" or v.Name == "CartXL" then
            if v.VehicleSeat.Occupant==nil then
                firetouchinterest(game.Players.LocalPlayer.Character.HumanoidRootPart,v.VehicleSeat,0)
    
        end
    end
    end
    end
else
    print("no cart")
end
end

local Players = game:GetService("Players");

local PTable = {}

for i,v in pairs(Players:GetPlayers()) do
    table.insert(PTable, v);
end

Players.PlayerAdded:Connect(function(player)
    table.insert(PTable, player);
end)

Players.PlayerRemoving:Connect(function(player)
    table.remove(PTable, table.find(PTable, player))
end)
   
   local function carTP2(item) 
    player = game.Players.LocalPlayer
    humanoid = player.Character.Humanoid
    if humanoid.Seated then
        local CurrentSeat = player.Character.Humanoid.SeatPart
        if CurrentSeat then
            if CurrentSeat:IsA("VehicleSeat") then
                SeatParent = CurrentSeat.Parent
                for i,v in pairs(SeatParent:GetDescendants()) do
                    if v:IsA("BasePart") then
                        v.CFrame = item


                    end
                end
            end
        end
    end
end


local function getCart()

    for i,v in pairs(workspace.Carts:GetDescendants()) do
        if v.Name == "Cart" or v.Name == "CartXL" then
            if v.VehicleSeat.Occupant==nil then
                firetouchinterest(game.Players.LocalPlayer.Character.HumanoidRootPart,v.VehicleSeat,0)
    end
        end
    end
    end

   
local function tpFront()
    player = game.Players.LocalPlayer
    humanoid = player.Character.Humanoid
    if humanoid.Seated then
        local v = player.Character.Humanoid.SeatPart
        if v then
            if v:IsA("VehicleSeat") then
                plrmodel = v.Parent
               local plr = PTable[math.random(1, #PTable)] 
               if plr.Character.Humanoid.Seated then
                local CurrentSeat2 = plr.Character.Humanoid.SeatPart
                if CurrentSeat2 then
                if CurrentSeat2:IsA("VehicleSeat") then
                model = CurrentSeat2.Parent
                else
                    model = CurrentSeat2.Parent.Parent
                end
                if model ~= plrmodel then
                    print(model)
               carTP2(plr.Character.HumanoidRootPart.CFrame * CFrame.new(0,0,-10))
                end
            end
        end
       end
    end
    end
end

local function tpBack()
    player = game.Players.LocalPlayer
    humanoid = player.Character.Humanoid
    if humanoid.Seated then
        local v = player.Character.Humanoid.SeatPart
        if v then
            if v:IsA("VehicleSeat") then
                plrmodel = v.Parent
               local plr = PTable[math.random(1, #PTable)] 
               if plr.Character.Humanoid.Seated then
                local CurrentSeat2 = plr.Character.Humanoid.SeatPart
                if CurrentSeat2 then
                if CurrentSeat2:IsA("VehicleSeat") then
                model = CurrentSeat2.Parent
                else
                    model = CurrentSeat2.Parent.Parent
                end
                if model ~= plrmodel then
                    print(model)
                    carTP2(plr.Character.HumanoidRootPart.CFrame * CFrame.new(0,0,10))
                end

            end
        end
       end
    end
    end
end



local function carTP(item) -- need to be in car
    player = game.Players.LocalPlayer
    humanoid = player.Character.Humanoid
    if humanoid.Seated then
        local CurrentSeat = player.Character.Humanoid.SeatPart
        if CurrentSeat then
            if CurrentSeat:IsA("VehicleSeat") then
                SeatParent = CurrentSeat.Parent
                for i,v in pairs(SeatParent:GetDescendants()) do
                    if v:IsA("BasePart") then
                        v.CFrame = item.CFrame


                    end
                end
            end
        end
    end
end

Tab:Toggle{
    Name = "Beat Game With No Cart",
    StartingState = false,
    Description = "Beats the game automatically by teleporting your player.",
    Callback = function(state)
        getgenv().loop = state
        while task.wait() do
            if getgenv().loop then
                if team == "suffered" then
                    local CoreGui = game:GetService("StarterGui")
                    CoreGui:SetCore("SendNotification", {
                        Title = "You already beat the game!",
                        Text = "join a different server",
                        Duration = 7
                    })
                    return

                end

                team = tostring(game.Players.LocalPlayer.Team)
                if not done == true then
                   
                    if workspace.CartCheckRoom.ScanSmokeParticke.ParticleEmitter.Enabled == true then
                        repeat
                            task.wait()

                        until
                            workspace.CartCheckRoom.ScanSmokeParticke.ParticleEmitter.Enabled == false

                    end

                    if workspace.CartCheckRoom.DoorPairEntrance.R.CFrame == CFrame.new(-432.748718, 163.800003, 116.745689, 0, 0, 1, 0, 1, -0, -1, 0, 0) and dontTp == true then
                        tp(workspace.CartCheckRoom.TriggerZone)

                    else
                        dontTp = false
                        repeat
                            task.wait()
                            tp(workspace.CartCheckRoom.HumanoidCheckZone)
                            game.Players.LocalPlayer.Character.Humanoid.Sit = true
                        until
                            workspace.CartCheckRoom.ScanSmokeParticke.ParticleEmitter.Enabled == false
                    end
                    if team == "suffering" then
                        done = true
                    end
                end

                if not done2 == true and done == true then
                    if workspace.CartCheckRoomFinish.ScanSmokeParticke.ParticleEmitter.Enabled == true then
                        repeat
                            task.wait()

                        until
                            workspace.CartCheckRoomFinish.ScanSmokeParticke.ParticleEmitter.Enabled == false

                    end

                    if workspace.CartCheckRoomFinish.DoorPairEntrance.R.CFrame == CFrame.new(-484.77182, -20.493948, -304.129791, -1, 0, 0, 0, -1, 0, 0, 0, 1) and dontTp2 == true then
                        tp(workspace.CartCheckRoomFinish.TriggerZone)

                    else
                        dontTp2 = false
                        repeat
                            task.wait()
                            tp(workspace.CartCheckRoomFinish.HumanoidCheckZone)
                            game.Players.LocalPlayer.Character.Humanoid.Sit = true

                        until
                            workspace.CartCheckRoomFinish.ScanSmokeParticke.ParticleEmitter.Enabled == false
                    end
                    if team == "suffered" then
                        done2 = true
                    end
                end

            else
                CFnewtp(CFrame.new(-3.99988699, 3.21921277, 38.4990273, 0.999848545, -3.47723983e-09, 0.0174044669, 3.47432549e-09, 1, 1.97683092e-10, -0.0174044669, -1.37184375e-10, 0.999848545))
                game.Players.LocalPlayer.Character.Humanoid.Sit = false
                return
            end
        end

    end
}

Tab:Toggle{
    Name = "Beat Game With Cart",
    StartingState = false,
    Description = "You need to be in a cart for this to work. This will count towards your wins.",
    Callback = function(state)
        getgenv().loop2 = state
        while task.wait() do
            if getgenv().loop2 then

                if team == "suffered" then
                    local CoreGui = game:GetService("StarterGui")
                    CoreGui:SetCore("SendNotification", {
                        Title = "You already beat the game!",
                        Text = "join a different server",
                        Duration = 7
                    })
                    return

                end

                team = tostring(game.Players.LocalPlayer.Team)

                if not done == true then


                    if workspace.CartCheckRoom.ScanSmokeParticke.ParticleEmitter.Enabled == true then
                        repeat
                            task.wait()

                        until
                            workspace.CartCheckRoom.ScanSmokeParticke.ParticleEmitter.Enabled == false

                    end

                    if workspace.CartCheckRoom.DoorPairEntrance.R.CFrame == CFrame.new(-432.748718, 163.800003, 116.745689, 0, 0, 1, 0, 1, -0, -1, 0, 0) and dontTp == true then
                        carTP(workspace.CartCheckRoom.TriggerZone)

                    else
                        dontTp = false
                        repeat
                            task.wait()
                            carTP(workspace.CartCheckRoom.HumanoidCheckZone)
                        until
                            workspace.CartCheckRoom.ScanSmokeParticke.ParticleEmitter.Enabled == false
                    end
                    if team == "suffering" then
                        done = true
                    end
                end

                if not done2 == true and done == true then
                    if workspace.CartCheckRoomFinish.ScanSmokeParticke.ParticleEmitter.Enabled == true then
                        repeat
                            task.wait()

                        until
                            workspace.CartCheckRoomFinish.ScanSmokeParticke.ParticleEmitter.Enabled == false

                    end

                    if workspace.CartCheckRoomFinish.DoorPairEntrance.R.CFrame == CFrame.new(-484.77182, -20.493948, -304.129791, -1, 0, 0, 0, -1, 0, 0, 0, 1) and dontTp2 == true then
                        carTP(workspace.CartCheckRoomFinish.TriggerZone)

                    else
                        dontTp2 = false
                        repeat
                            task.wait()
                            carTP(workspace.CartCheckRoomFinish.HumanoidCheckZone)

                        until
                            workspace.CartCheckRoomFinish.ScanSmokeParticke.ParticleEmitter.Enabled == false
                    end
                    if team == "suffered" then
                        done2 = true
                    end
                end


            end
        end

    end
}


local function plrs()


    local PTable = {}
    
    for i,v in pairs(Players:GetPlayers()) do
        table.insert(PTable, v);
    end
    
    Players.PlayerAdded:Connect(function(player)
        table.insert(PTable, player);
    end)
    
    Players.PlayerRemoving:Connect(function(player)
        table.remove(PTable, table.find(PTable, player))
    end)
end

--[[Tab:Toggle{
    Name = "loop get exploded",
    StartingState = false,
    Description = "TPs your cart infront of someones cart then wait for them to run into you.",
    Callback = function(state)
        getgenv().explode = state
        while task.wait(.5) do
            if getgenv().explode then
                if not humanoid.Seated then
                    getCart()
                plrs()
                tpFront()

            end
        end
    end
end
}--]]


Tab:Slider{
	Name = "Cart Speed",
	Default = 60,
	Min = 0,
	Max = 500,
	Callback = function(v) 
    
        player = game.Players.LocalPlayer
        humanoid = player.Character.Humanoid
        if humanoid.Seated then
         local CurrentSeat = player.Character.Humanoid.SeatPart
        if CurrentSeat then
         if CurrentSeat:IsA("VehicleSeat") then
            vseat = CurrentSeat
            vseat.MaxSpeed = v
    end
end
end
end
}

Tab:Slider{
	Name = "Cart Turn Speed",
	Default = 1,
	Min = 0,
	Max = 20,
	Callback = function(v) 
    
        player = game.Players.LocalPlayer
        humanoid = player.Character.Humanoid
        if humanoid.Seated then
         local CurrentSeat = player.Character.Humanoid.SeatPart
        if CurrentSeat then
         if CurrentSeat:IsA("VehicleSeat") then
            vseat = CurrentSeat
            vseat.TurnSpeed = v
    end
end
end
end
}

Tab:Button{
    Name = "No Proximity Prompt Wait",
    Description = "Removes the wait time for proximity prompts.",
    Callback = function()
        game:GetService("ProximityPromptService").PromptButtonHoldBegan:Connect(fireproximityprompt)
    end
}

Tab:Button{
    Name = "Get Cart",
    Description = "Gets in a cart if a cart is found.",
    Callback = function()
        getCart()
    end
}

Tab:Button{
    Name = "Start Current Cart",
    Description = "Starts your cart.",
    Callback = function()
if humanoid.Seated then
 local CurrentSeat = player.Character.Humanoid.SeatPart
if CurrentSeat then
 if CurrentSeat:IsA("VehicleSeat") then
    vseat = CurrentSeat
    fireproximityprompt(vseat.Parent.Car2.Walls.GeneratorWall.ProximityPrompt,1,true) 
end
end
end
    end
}

